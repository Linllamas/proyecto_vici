
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Análisis de datos atípicos &#8212; Inmobiliaria HeBo</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks1';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Análisis de datos nulos" href="notebooks2.html" />
    <link rel="prev" title="Limpieza de datos" href="notebooks.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Inmobiliaria HeBo - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Inmobiliaria HeBo - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Inmobiliaria HeBo
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="markdown-notebooks.html">Fuente de datos y variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks.html">Limpieza de datos</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Análisis de datos atípicos</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks2.html">Análisis de datos nulos</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebookeda.html">EDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebookmodels.html">Modelos</a></li>
<li class="toctree-l1"><a class="reference internal" href="markdown.html">Resultados y conclusiones</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/Linllamas/proyecto_vici" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/Linllamas/proyecto_vici/issues/new?title=Issue%20on%20page%20%2Fnotebooks1.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/notebooks1.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Análisis de datos atípicos</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#funciones">Funciones</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#banos">Baños</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#habitaciones">Habitaciones</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parqueaderos">Parqueaderos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#administracion">Administración</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#barrio-y-sector">Barrio y Sector</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#uso-de-libreria-fluzzywuzzy-para-coincidencias-en-nombres-de-barrios-y-sector">Uso de libreria fluzzywuzzy para coincidencias en nombres de barrios y sector</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lat-y-long">Lat y Long</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#price">Price</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-datos-atipicos-por-estrato-y-ciudad">Análisis de datos atípicos por estrato y ciudad:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#posterior">Posterior</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="analisis-de-datos-atipicos">
<h1>Análisis de datos atípicos<a class="headerlink" href="#analisis-de-datos-atipicos" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">plotly.subplots</span> <span class="kn">import</span> <span class="n">make_subplots</span>

<span class="kn">from</span> <span class="nn">fuzzywuzzy</span> <span class="kn">import</span> <span class="n">process</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ventas</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;C:/UNINORTE/VC/Proyecto2/Informe/docs/datos3.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ventas</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>lat</th>
      <td>149849.0</td>
      <td>5.687399e+00</td>
      <td>2.255796e+00</td>
      <td>-3.556624</td>
      <td>4.648530e+00</td>
      <td>4.721000e+00</td>
      <td>6.208586e+00</td>
      <td>1.140061e+01</td>
    </tr>
    <tr>
      <th>long</th>
      <td>149730.0</td>
      <td>-7.485683e+01</td>
      <td>8.842583e-01</td>
      <td>-78.530228</td>
      <td>-7.556703e+01</td>
      <td>-7.419706e+01</td>
      <td>-7.406600e+01</td>
      <td>-6.713100e+01</td>
    </tr>
    <tr>
      <th>price</th>
      <td>169515.0</td>
      <td>1.923391e+10</td>
      <td>5.534035e+12</td>
      <td>153.000000</td>
      <td>2.500000e+08</td>
      <td>3.950000e+08</td>
      <td>6.800000e+08</td>
      <td>1.989188e+15</td>
    </tr>
    <tr>
      <th>rooms</th>
      <td>167914.0</td>
      <td>3.278226e+00</td>
      <td>2.059622e+00</td>
      <td>1.000000</td>
      <td>3.000000e+00</td>
      <td>3.000000e+00</td>
      <td>4.000000e+00</td>
      <td>2.540000e+02</td>
    </tr>
    <tr>
      <th>baths</th>
      <td>168167.0</td>
      <td>2.719404e+00</td>
      <td>1.523848e+00</td>
      <td>1.000000</td>
      <td>2.000000e+00</td>
      <td>2.000000e+00</td>
      <td>3.000000e+00</td>
      <td>2.530000e+02</td>
    </tr>
    <tr>
      <th>park</th>
      <td>169528.0</td>
      <td>1.293946e+00</td>
      <td>1.237870e+00</td>
      <td>0.000000</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>2.000000e+00</td>
      <td>1.100000e+01</td>
    </tr>
    <tr>
      <th>area_privada</th>
      <td>110266.0</td>
      <td>1.153182e+02</td>
      <td>6.605762e+01</td>
      <td>1.000000</td>
      <td>6.500000e+01</td>
      <td>9.500000e+01</td>
      <td>1.480000e+02</td>
      <td>3.240000e+02</td>
    </tr>
    <tr>
      <th>area_const</th>
      <td>156756.0</td>
      <td>1.164425e+02</td>
      <td>6.730209e+01</td>
      <td>1.000000</td>
      <td>6.500000e+01</td>
      <td>9.500000e+01</td>
      <td>1.500000e+02</td>
      <td>3.250000e+02</td>
    </tr>
    <tr>
      <th>Admón</th>
      <td>105778.0</td>
      <td>1.853984e+06</td>
      <td>3.132578e+07</td>
      <td>0.000000</td>
      <td>1.750000e+05</td>
      <td>3.150000e+05</td>
      <td>5.600000e+05</td>
      <td>1.900000e+09</td>
    </tr>
    <tr>
      <th>Estrato</th>
      <td>167101.0</td>
      <td>4.354959e+00</td>
      <td>1.280686e+00</td>
      <td>1.000000</td>
      <td>3.000000e+00</td>
      <td>4.000000e+00</td>
      <td>6.000000e+00</td>
      <td>6.000000e+00</td>
    </tr>
    <tr>
      <th>Estado</th>
      <td>98550.0</td>
      <td>4.492532e+00</td>
      <td>5.439049e-01</td>
      <td>3.000000</td>
      <td>4.000000e+00</td>
      <td>5.000000e+00</td>
      <td>5.000000e+00</td>
      <td>5.000000e+00</td>
    </tr>
    <tr>
      <th>Piso No</th>
      <td>101698.0</td>
      <td>4.193730e+00</td>
      <td>3.111030e+00</td>
      <td>1.000000</td>
      <td>2.000000e+00</td>
      <td>3.000000e+00</td>
      <td>5.000000e+00</td>
      <td>1.600000e+01</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Dado que la columna ‘Admón’ tiene valores negativos y esto en la práctica no tiene sentido, estos valores serán reemplazados por nulos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Replace negative values with NaN in the &#39;Admón&#39; column</span>
<span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;Admón&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;Admón&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Contar valores ‘cero’ en cada columna.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Count zero values in each column</span>
<span class="n">zero_counts</span> <span class="o">=</span> <span class="p">(</span><span class="n">ventas</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Print the counts of zero values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">zero_counts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>lat                        0
long                       0
category                   0
price                      0
rooms                      0
baths                      0
park                   40868
ciudad                     0
barrio                     0
area_privada               0
area_const                 0
Admón                   1147
Estrato                    0
Estado                     0
Antiguedad                 0
Piso No                    0
Tipo de Apartamento        0
Sector                     0
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Replace cero values with NaN in the &#39;lat&#39; column</span>
<span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="funciones">
<h2>Funciones<a class="headerlink" href="#funciones" title="Link to this heading">#</a></h2>
<p>Función para detección de valores atípicos mediante el rango intercuantil (IQR)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">detect_outliers</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">lower_percentile</span><span class="p">,</span> <span class="n">upper_percentile</span><span class="p">):</span>
    <span class="c1"># Calcular el primer y el cuartil superior basado en los percentiles proporcionados</span>
    <span class="n">Q1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">lower_percentile</span><span class="p">)</span>
    <span class="n">Q3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">upper_percentile</span><span class="p">)</span>
    
    <span class="c1"># Calcular el rango intercuartílico (IQR)</span>
    <span class="n">IQR</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">-</span> <span class="n">Q1</span>
    
    <span class="c1"># Definir los límites para los valores atípicos</span>
    <span class="n">lower_bound</span> <span class="o">=</span> <span class="n">Q1</span> <span class="o">-</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span>
    <span class="n">upper_bound</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">+</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span>
    
    <span class="c1"># Identificar los valores atípicos</span>
    <span class="n">outliers</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lower_bound</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">upper_bound</span><span class="p">)][</span><span class="n">column</span><span class="p">]</span>
    
    <span class="c1"># Mostrar un análisis descriptivo de los valores atípicos</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Análisis descriptivo de valores atípicos en &#39;</span><span class="si">{}</span><span class="s2">&#39;:&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">outliers</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    
    <span class="c1"># Calcular y mostrar el porcentaje de valores atípicos</span>
    <span class="n">porcentaje</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">outliers</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Porcentaje de valores atípicos: </span><span class="si">{:.2f}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">porcentaje</span><span class="p">))</span>
    
    <span class="n">cant</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">outliers</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Cantidad de valores atípicos: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cant</span><span class="p">))</span>
    
    <span class="c1"># Retornar los valores atípicos y sus límites para uso adicional si es necesario</span>
    <span class="k">return</span> <span class="n">outliers</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">cant</span>
</pre></div>
</div>
</div>
</div>
<p>Función para detección de valores atípicos mediante las puntuaciones <span class="math notranslate nohighlight">\(Z\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">detect_outliers_zscore</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
    <span class="c1"># Extraer la columna deseada del DataFrame</span>
    <span class="n">datacol</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>  <span class="c1"># Asegúrate de eliminar NaNs para el cálculo</span>
    <span class="n">thres</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># Umbral para la puntuación Z</span>

    <span class="c1"># Calcular la media y la desviación estándar</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">datacol</span><span class="p">)</span>
    <span class="n">std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">datacol</span><span class="p">)</span>
    
    <span class="c1"># Detectar outliers</span>
    <span class="n">outliers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">datacol</span><span class="p">:</span>
        <span class="n">z_score</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">/</span> <span class="n">std</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">z_score</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">thres</span><span class="p">:</span>
            <span class="n">outliers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    
    <span class="c1"># Convertir la lista de outliers en un DataFrame para análisis</span>
    <span class="n">outliers_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">outliers</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Outliers&#39;</span><span class="p">])</span>

    <span class="c1"># Realizar un análisis descriptivo de los outliers detectados</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Análisis descriptivo de los valores atípicos en &#39;</span><span class="si">{}</span><span class="s2">&#39;:&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">outliers_df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">outliers_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>

    <span class="c1"># Calcular y mostrar el porcentaje de outliers</span>
    <span class="n">porcentaje_outliers</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">outliers</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">datacol</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Porcentaje de valores atípicos en &#39;</span><span class="si">{}</span><span class="s2">&#39;: </span><span class="si">{:.2f}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">porcentaje_outliers</span><span class="p">))</span>

    <span class="c1"># Opcional: devolver el DataFrame de outliers y otros datos para uso futuro</span>
    <span class="k">return</span> <span class="n">outliers_df</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">std</span><span class="p">,</span> <span class="n">porcentaje_outliers</span>
</pre></div>
</div>
</div>
</div>
<p>Función para prueba Rosner</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">rosner_test</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
    <span class="c1"># Convertir los datos a un array de NumPy y asegurarse de manejar los índices correctamente</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>  <span class="c1"># Crear un array de índices</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">outliers_pr</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">outlier_indices</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="n">z_scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="n">data</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">/</span> <span class="n">std</span><span class="p">)</span>
        <span class="n">max_z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">z_scores</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">max_z</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>  <span class="c1"># Umbral típico de Z-score para outliers</span>
            <span class="n">max_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">z_scores</span><span class="p">)</span>
            <span class="n">outliers_pr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">max_index</span><span class="p">])</span>
            <span class="n">outlier_indices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">indices</span><span class="p">[</span><span class="n">max_index</span><span class="p">])</span>  <span class="c1"># Guardar el índice del outlier</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">max_index</span><span class="p">)</span>  <span class="c1"># Eliminar el outlier para la siguiente iteración</span>
            <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">max_index</span><span class="p">)</span>  <span class="c1"># Eliminar el índice del outlier</span>
            <span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># Recalcular la media</span>
            <span class="n">std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># Recalcular la desviación estándar</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">break</span>

    <span class="k">return</span> <span class="n">outliers_pr</span><span class="p">,</span> <span class="n">outlier_indices</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definir la paleta de colores personalizada</span>
<span class="n">custom_colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#1F3040&#39;</span><span class="p">,</span> <span class="s1">&#39;#B9CDCA&#39;</span><span class="p">,</span> <span class="s1">&#39;#F2C6AC&#39;</span><span class="p">,</span> <span class="s1">&#39;#D99982&#39;</span><span class="p">,</span> <span class="s1">&#39;#735749&#39;</span> <span class="p">]</span>
<span class="n">color_histograma</span> <span class="o">=</span> <span class="n">custom_colors</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">color_linea</span> <span class="o">=</span> <span class="n">custom_colors</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="n">color_box</span> <span class="o">=</span> <span class="n">custom_colors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Con una correlación de 0.99 y como es evidente en el gráfico de dispersión y en el grafico de caja, estas 2 columnas son iguales, por ende, eliminaremos una de ellas, en este caso ‘surface’.</p>
<p>Inicialmente colocaremos como nulos todos los valores de área construida que sean superiores a <span class="math notranslate nohighlight">\(2.500 m²\)</span>, teniendo en cuenta que los datos que tenemos corresponden a casas, apartamentos y apartaestudios y no es posible que alguno de estos inmuebles tenga un área construida superior a ese valor. Estos corresponden al <span class="math notranslate nohighlight">\(0.31%\)</span> de nuestros datos.</p>
<p>Adicionalmente, según las siguientes noticias de medios de comunicación como Noticias Caracol y El Tiempo, las casas más grandes de Colombia no superan los <span class="math notranslate nohighlight">\(2.500 m²\)</span> ni el valor de <span class="math notranslate nohighlight">\(18\)</span> mil millones de pesos colombianos:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.noticiascaracol.com/entretenimiento/yeferson-cossio-adquiere-enorme-lote-porque-quiere-construir-la-casa-mas-grande-de-medellin">Yeferson Cossio adquiere enorme lote porque quiere construir la casa más grande de Medellín</a></p></li>
<li><p><a class="reference external" href="https://www.eltiempo.com/cultura/gente/cuales-son-las-casas-mas-caras-de-colombia-632916">¿Cuáles son las casas más caras de Colombia?</a></p></li>
</ul>
</section>
<section id="banos">
<h2>Baños<a class="headerlink" href="#banos" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Histograma de baths</span>
<span class="n">fig_histogram</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;baths&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Distribución de baths&#39;</span><span class="p">,</span>
                             <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_histograma</span><span class="p">])</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;baths&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker_line_color</span><span class="o">=</span><span class="n">color_linea</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Boxplot de baths</span>
<span class="n">fig_boxplot</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;baths&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot de baths&#39;</span><span class="p">,</span>
                     <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_box</span><span class="p">])</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;baths&#39;</span><span class="p">)</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Contar los valores mayores que 10</span>
<span class="n">valores_mayores_10</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">][</span><span class="s1">&#39;baths&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># Calcular el total de entradas no nulas en la columna &#39;baths&#39;</span>
<span class="n">total_entradas</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Calcular el porcentaje</span>
<span class="n">porcentaje_mayores_10</span> <span class="o">=</span> <span class="p">(</span><span class="n">valores_mayores_10</span> <span class="o">/</span> <span class="n">total_entradas</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

<span class="c1"># Imprimir los resultados</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cantidad de valores mayores que 10 en &#39;baths&#39;:&quot;</span><span class="p">,</span> <span class="n">valores_mayores_10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Porcentaje de valores mayores que 10 en &#39;baths&#39;: </span><span class="si">{:.2f}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">porcentaje_mayores_10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de valores mayores que 10 en &#39;baths&#39;: 200
Porcentaje de valores mayores que 10 en &#39;baths&#39;: 0.12%
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Marcar valores superiores a 10 en &#39;baths&#39; como NaN</span>
<span class="n">ventas</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Detección de valores atípicos mediante las puntuaciones <span class="math notranslate nohighlight">\(Z\)</span></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers_df</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">std</span><span class="p">,</span> <span class="n">porc_outliers</span> <span class="o">=</span> <span class="n">detect_outliers_zscore</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Análisis descriptivo de los valores atípicos en &#39;baths&#39;:
           count      mean       std  min  25%  50%  75%   max
Outliers  2250.0  7.732444  0.942767  7.0  7.0  7.0  8.0  10.0

Porcentaje de valores atípicos en &#39;baths&#39;: 1.34%
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Detección de valores atípicos mediante el rango intercuantil (IQR)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">cant</span> <span class="o">=</span> <span class="n">detect_outliers</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.80</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Análisis descriptivo de valores atípicos en &#39;baths&#39;:
        count      mean       std  min  25%  50%  75%   max
baths  1036.0  8.590734  0.751469  8.0  8.0  8.0  9.0  10.0

Porcentaje de valores atípicos: 0.61%

Cantidad de valores atípicos: 1036
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Prueba Rosner</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers_pr</span><span class="p">,</span> <span class="n">outlier_indices</span> <span class="o">=</span> <span class="n">rosner_test</span><span class="p">(</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">k</span><span class="o">=</span><span class="n">cant</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Imprimir comparación de cantidad de outliers</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Después de la prueba Rosner, la cantidad de datos atípicos es:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">outliers_pr</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Comparado con la cantidad de datos atípicos detectados por el método IQR que es:&quot;</span><span class="p">,</span> <span class="n">cant</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Después de la prueba Rosner, la cantidad de datos atípicos es: 1036
Comparado con la cantidad de datos atípicos detectados por el método IQR que es: 1036
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Marcar como nulos los outliers detectados por la prueba Rosner en el DataFrame original</span>
<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">outliers</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">ventas</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>  <span class="c1"># Verificar si el índice está en el DataFrame</span>
        <span class="n">ventas</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="c1"># Verificar el cambio en el DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Actualización completada en el DataFrame. Total de NaN ahora en &#39;baths&#39;:&quot;</span><span class="p">,</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Actualización completada en el DataFrame. Total de NaN ahora en &#39;baths&#39;: 2597
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Histograma de baths</span>
<span class="n">fig_histogram</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;baths&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Distribución de baths&#39;</span><span class="p">,</span>
                             <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_histograma</span><span class="p">])</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;baths&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker_line_color</span><span class="o">=</span><span class="n">color_linea</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Boxplot de baths</span>
<span class="n">fig_boxplot</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;baths&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot de baths&#39;</span><span class="p">,</span>
                     <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_box</span><span class="p">])</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;baths&#39;</span><span class="p">)</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
<section id="habitaciones">
<h2>Habitaciones<a class="headerlink" href="#habitaciones" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Histograma de rooms</span>
<span class="n">fig_histogram</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;rooms&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Distribución de rooms&#39;</span><span class="p">,</span> <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_histograma</span><span class="p">])</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;rooms&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker_line_color</span><span class="o">=</span><span class="n">color_linea</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Boxplot de rooms</span>
<span class="n">fig_boxplot</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;rooms&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot de rooms&#39;</span><span class="p">,</span>
                     <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_box</span><span class="p">])</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;rooms&#39;</span><span class="p">)</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Contar los valores mayores que 20</span>
<span class="n">valores_mayores_20</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">][</span><span class="s1">&#39;rooms&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># Calcular el total de entradas no nulas en la columna &#39;rooms&#39;</span>
<span class="n">total_entradas</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Calcular el porcentaje</span>
<span class="n">porcentaje_mayores_20</span> <span class="o">=</span> <span class="p">(</span><span class="n">valores_mayores_20</span> <span class="o">/</span> <span class="n">total_entradas</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

<span class="c1"># Imprimir los resultados</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cantidad de valores mayores que 10 en &#39;rooms&#39;:&quot;</span><span class="p">,</span> <span class="n">valores_mayores_20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Porcentaje de valores mayores que 10 en &#39;rooms&#39;: </span><span class="si">{:.2f}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">porcentaje_mayores_20</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de valores mayores que 10 en &#39;rooms&#39;: 77
Porcentaje de valores mayores que 10 en &#39;rooms&#39;: 0.05%
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Marcar valores superiores a 20 en &#39;rooms&#39; como NaN</span>
<span class="n">ventas</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;rooms&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Detección de valores atípicos mediante las puntuaciones <span class="math notranslate nohighlight">\(Z\)</span></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers_df</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">std</span><span class="p">,</span> <span class="n">porc_outliers</span> <span class="o">=</span> <span class="n">detect_outliers_zscore</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="s1">&#39;rooms&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Análisis descriptivo de los valores atípicos en &#39;rooms&#39;:
           count       mean       std  min  25%   50%   75%   max
Outliers  3433.0  11.024468  2.358708  9.0  9.0  10.0  12.0  20.0

Porcentaje de valores atípicos en &#39;rooms&#39;: 2.05%
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Detección de valores atípicos mediante el rango intercuantil (IQR)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">cant</span> <span class="o">=</span> <span class="n">detect_outliers</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="s1">&#39;rooms&#39;</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.80</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Análisis descriptivo de valores atípicos en &#39;rooms&#39;:
        count       mean       std  min  25%  50%   75%   max
rooms  5008.0  10.073283  2.405394  8.0  8.0  9.0  11.0  20.0

Porcentaje de valores atípicos: 2.95%

Cantidad de valores atípicos: 5008
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Prueba Rosner</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers_pr</span><span class="p">,</span> <span class="n">outlier_indices</span> <span class="o">=</span> <span class="n">rosner_test</span><span class="p">(</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">k</span><span class="o">=</span><span class="n">cant</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Imprimir comparación de cantidad de outliers</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Después de la prueba Rosner, la cantidad de datos atípicos es:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">outliers_pr</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Comparado con la cantidad de datos atípicos detectados por el método IQR que es:&quot;</span><span class="p">,</span> <span class="n">cant</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Después de la prueba Rosner, la cantidad de datos atípicos es: 5008
Comparado con la cantidad de datos atípicos detectados por el método IQR que es: 5008
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Marcar como nulos los outliers detectados por la prueba Rosner en el DataFrame original</span>
<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">outliers</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">ventas</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>  <span class="c1"># Verificar si el índice está en el DataFrame</span>
        <span class="n">ventas</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s1">&#39;rooms&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="c1"># Verificar el cambio en el DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Actualización completada en el DataFrame. Total de NaN ahora en &#39;rooms&#39;:&quot;</span><span class="p">,</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Actualización completada en el DataFrame. Total de NaN ahora en &#39;rooms&#39;: 6699
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Histograma de rooms</span>
<span class="n">fig_histogram</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;rooms&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Distribución de rooms&#39;</span><span class="p">,</span> <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_histograma</span><span class="p">])</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;rooms&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker_line_color</span><span class="o">=</span><span class="n">color_linea</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Boxplot de rooms</span>
<span class="n">fig_boxplot</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;rooms&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot de rooms&#39;</span><span class="p">,</span>
                     <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_box</span><span class="p">])</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;rooms&#39;</span><span class="p">)</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
<section id="parqueaderos">
<h2>Parqueaderos<a class="headerlink" href="#parqueaderos" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Histograma de park</span>
<span class="n">fig_histogram</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;park&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Distribución de park&#39;</span><span class="p">,</span>
                             <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_histograma</span><span class="p">])</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;park&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker_line_color</span><span class="o">=</span><span class="n">color_linea</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Boxplot de park</span>
<span class="n">fig_boxplot</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;park&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot de park&#39;</span><span class="p">,</span> 
                     <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_box</span><span class="p">])</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;park&#39;</span><span class="p">)</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<ul class="simple">
<li><p>Detección de valores atípicos mediante las puntuaciones <span class="math notranslate nohighlight">\(Z\)</span></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers_df</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">std</span><span class="p">,</span> <span class="n">porc_outliers</span> <span class="o">=</span> <span class="n">detect_outliers_zscore</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="s1">&#39;park&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Análisis descriptivo de los valores atípicos en &#39;park&#39;:
           count      mean       std  min  25%  50%   75%   max
Outliers  1923.0  7.843474  2.078567  6.0  6.0  7.0  10.0  11.0

Porcentaje de valores atípicos en &#39;park&#39;: 1.13%
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Detección de valores atípicos mediante el rango intercuantil (IQR)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">cant</span> <span class="o">=</span> <span class="n">detect_outliers</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="s1">&#39;park&#39;</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.80</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Análisis descriptivo de valores atípicos en &#39;park&#39;:
       count      mean       std  min  25%  50%   75%   max
park  1923.0  7.843474  2.078567  6.0  6.0  7.0  10.0  11.0

Porcentaje de valores atípicos: 1.13%

Cantidad de valores atípicos: 1923
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Prueba Rosner</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers_pr</span><span class="p">,</span> <span class="n">outlier_indices</span> <span class="o">=</span> <span class="n">rosner_test</span><span class="p">(</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;park&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">k</span><span class="o">=</span><span class="n">cant</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Imprimir comparación de cantidad de outliers</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Después de la prueba Rosner, la cantidad de datos atípicos es:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">outliers_pr</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Comparado con la cantidad de datos atípicos detectados por el método IQR que es:&quot;</span><span class="p">,</span> <span class="n">cant</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Después de la prueba Rosner, la cantidad de datos atípicos es: 1923
Comparado con la cantidad de datos atípicos detectados por el método IQR que es: 1923
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Marcar como nulos los outliers detectados por la prueba Rosner en el DataFrame original</span>
<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">outliers</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">ventas</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>  <span class="c1"># Verificar si el índice está en el DataFrame</span>
        <span class="n">ventas</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s1">&#39;park&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="c1"># Verificar el cambio en el DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Actualización completada en el DataFrame. Total de NaN ahora en &#39;park&#39;:&quot;</span><span class="p">,</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;park&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Actualización completada en el DataFrame. Total de NaN ahora en &#39;park&#39;: 1923
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Histograma de park</span>
<span class="n">fig_histogram</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;park&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Distribución de park&#39;</span><span class="p">,</span>
                             <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_histograma</span><span class="p">])</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;park&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker_line_color</span><span class="o">=</span><span class="n">color_linea</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Boxplot de park</span>
<span class="n">fig_boxplot</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;park&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot de park&#39;</span><span class="p">,</span> 
                     <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_box</span><span class="p">])</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;park&#39;</span><span class="p">)</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
<section id="administracion">
<h2>Administración<a class="headerlink" href="#administracion" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Renombrar las columnas &#39;Área Const.&#39; y &#39;Área privada&#39;</span>
<span class="n">ventas</span> <span class="o">=</span> <span class="n">ventas</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;Admón&#39;</span><span class="p">:</span> <span class="s1">&#39;admon&#39;</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Histograma de admon</span>
<span class="n">fig_histogram</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;admon&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Distribución de admon&#39;</span><span class="p">,</span> 
                             <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_histograma</span><span class="p">])</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;admon&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker_line_color</span><span class="o">=</span><span class="n">color_linea</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Boxplot de admon</span>
<span class="n">fig_boxplot</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;admon&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot de admon&#39;</span><span class="p">,</span>
                     <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_box</span><span class="p">])</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;admon&#39;</span><span class="p">)</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Marcar valores superiores a 10000000 como NaN e inferiores a 0 (valores negativos)</span>
<span class="n">ventas</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;admon&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">10000000</span><span class="p">,</span> <span class="s1">&#39;admon&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">ventas</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;admon&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;admon&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Detección de valores atípicos mediante las puntuaciones <span class="math notranslate nohighlight">\(Z\)</span></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers_df</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">std</span><span class="p">,</span> <span class="n">porc_outliers</span> <span class="o">=</span> <span class="n">detect_outliers_zscore</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="s1">&#39;admon&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Análisis descriptivo de los valores atípicos en &#39;admon&#39;:
           count          mean            std        min        25%  \
Outliers  1981.0  2.176876e+06  686282.753706  1636000.0  1800000.0   

                50%        75%        max  
Outliers  2000000.0  2306000.0  9500000.0  

Porcentaje de valores atípicos en &#39;admon&#39;: 1.88%
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Detección de valores atípicos mediante el rango intercuantil (IQR)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">cant</span> <span class="o">=</span> <span class="n">detect_outliers</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="s1">&#39;admon&#39;</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Análisis descriptivo de valores atípicos en &#39;admon&#39;:
        count          mean            std        min        25%        50%  \
admon  5871.0  1.614351e+06  576771.228856  1123000.0  1250000.0  1447000.0   

             75%        max  
admon  1800000.0  9500000.0  

Porcentaje de valores atípicos: 3.46%

Cantidad de valores atípicos: 5871
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Prueba Rosner</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers_pr</span><span class="p">,</span> <span class="n">outlier_indices</span> <span class="o">=</span> <span class="n">rosner_test</span><span class="p">(</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;admon&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">k</span><span class="o">=</span><span class="n">cant</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Imprimir comparación de cantidad de outliers</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Después de la prueba Rosner, la cantidad de datos atípicos es:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">outliers_pr</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Comparado con la cantidad de datos atípicos detectados por el método IQR que es:&quot;</span><span class="p">,</span> <span class="n">cant</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Después de la prueba Rosner, la cantidad de datos atípicos es: 5871
Comparado con la cantidad de datos atípicos detectados por el método IQR que es: 5871
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Marcar como nulos los outliers detectados por la prueba Rosner en el DataFrame original</span>
<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">outliers</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">ventas</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>  <span class="c1"># Verificar si el índice está en el DataFrame</span>
        <span class="n">ventas</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s1">&#39;admon&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="c1"># Verificar el cambio en el DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Actualización completada en el DataFrame. Total de NaN ahora en &#39;admon&#39;:&quot;</span><span class="p">,</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;admon&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Actualización completada en el DataFrame. Total de NaN ahora en &#39;admon&#39;: 70017
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Histograma de admon</span>
<span class="n">fig_histogram</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;admon&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Distribución de admon&#39;</span><span class="p">,</span> 
                             <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_histograma</span><span class="p">])</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;admon&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker_line_color</span><span class="o">=</span><span class="n">color_linea</span><span class="p">)</span>
<span class="n">fig_histogram</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Boxplot de admon</span>
<span class="n">fig_boxplot</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;admon&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot de admon&#39;</span><span class="p">,</span>
                     <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="n">color_box</span><span class="p">])</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;admon&#39;</span><span class="p">)</span>
<span class="n">fig_boxplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
<section id="barrio-y-sector">
<h2>Barrio y Sector<a class="headerlink" href="#barrio-y-sector" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Contar los valores únicos y las frecuencias de las columnas de barrio y sector para ver las inconsistencias</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Valores únicos en &#39;barrio&#39;:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;barrio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Valores únicos en &#39;sector&#39;:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;Sector&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Valores únicos en &#39;barrio&#39;:
 barrio
El Poblado          3184
Cedritos            2956
Valle del Lili      1666
Colina Campestre    1656
Santa Bárbara       1625
                    ... 
sector guaymaral       1
La aldea itagui        1
residencial            1
blazdelezo             1
BELÉN                  1
Name: count, Length: 10603, dtype: int64
Valores únicos en &#39;sector&#39;:
 Sector
Zona Norte                       15710
Zona Sur                          7281
Zona Noroccidente                 5611
Norte Centro Histórico            5190
SurOriente                        4614
                                 ...  
Centro Comercial Centro Mayor        1
Marroquín III                        1
San Andresito                        1
Villa Flora                          1
Colón                                1
Name: count, Length: 969, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Función para limpiar y normalizar texto, manejar valores no textuales</span>
<span class="k">def</span> <span class="nf">limpiar_texto</span><span class="p">(</span><span class="n">texto</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">texto</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">texto</span>  <span class="c1"># Devolver NaN tal cual</span>
    <span class="n">texto</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">texto</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># Asegurarse de que es string y eliminar espacios</span>
    <span class="n">texto</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">texto</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>  <span class="c1"># Eliminar espacios múltiples</span>
    <span class="n">texto</span> <span class="o">=</span> <span class="n">texto</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>  <span class="c1"># Convertir a minúsculas</span>
    <span class="n">texto</span> <span class="o">=</span> <span class="n">texto</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>  <span class="c1"># Capitalizar cada palabra</span>
    <span class="k">return</span> <span class="n">texto</span>

<span class="c1"># Aplicar limpieza a las columnas &#39;barrio&#39; y &#39;Sector&#39;</span>
<span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;barrio&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;barrio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">limpiar_texto</span><span class="p">)</span>
<span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;Sector&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;Sector&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">limpiar_texto</span><span class="p">)</span>

<span class="c1"># Revisar los resultados después de la limpieza</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Valores únicos en &#39;barrio&#39; después de la limpieza:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;barrio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Valores únicos en &#39;Sector&#39; después de la limpieza:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;Sector&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Valores únicos en &#39;barrio&#39; después de la limpieza:
 barrio
El Poblado               3488
Cedritos                 3345
Laureles                 2158
Valle Del Lili           2147
Los Rosales              1789
                         ... 
Conjunto Cerros Norte       1
San Bacilio                 1
Suba Rincón Santa Ana       1
Alamos Norte Engativá       1
Mediterraneo                1
Name: count, Length: 7589, dtype: int64
Valores únicos en &#39;Sector&#39; después de la limpieza:
 Sector
Zona Norte                       15710
Zona Sur                          7281
Zona Noroccidente                 5611
Norte Centro Histórico            5190
Suroriente                        4614
                                 ...  
Centro Comercial Centro Mayor        1
Marroquín Iii                        1
San Andresito                        1
Villa Flora                          1
Colón                                1
Name: count, Length: 968, dtype: int64
</pre></div>
</div>
</div>
</div>
<section id="uso-de-libreria-fluzzywuzzy-para-coincidencias-en-nombres-de-barrios-y-sector">
<h3>Uso de libreria fluzzywuzzy para coincidencias en nombres de barrios y sector<a class="headerlink" href="#uso-de-libreria-fluzzywuzzy-para-coincidencias-en-nombres-de-barrios-y-sector" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Función para mostrar agrupaciones propuestas para una ciudad específica</span>
<span class="k">def</span> <span class="nf">print_proposed_groupings</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">city_col</span><span class="p">,</span> <span class="n">neighborhood_col</span><span class="p">,</span> <span class="n">city_name</span><span class="p">,</span> <span class="n">threshold</span><span class="p">):</span>
    <span class="n">city_group</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">city_col</span><span class="p">]</span> <span class="o">==</span> <span class="n">city_name</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">city_group</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No hay datos disponibles para la ciudad: </span><span class="si">{</span><span class="n">city_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">names</span> <span class="o">=</span> <span class="n">city_group</span><span class="p">[</span><span class="n">neighborhood_col</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
    <span class="n">master_names</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>  <span class="c1"># Asegurarse de que es una cadena</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">master_names</span><span class="p">:</span>
            <span class="n">master_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">best_match</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">extractOne</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">master_names</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">score</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;En &#39;</span><span class="si">{</span><span class="n">city_name</span><span class="si">}</span><span class="s2">&#39;: Agrupando &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; con &#39;</span><span class="si">{</span><span class="n">best_match</span><span class="si">}</span><span class="s2">&#39; (puntuación: </span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">master_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Función para aplicar agrupaciones a una ciudad específica en varias columnas</span>
<span class="k">def</span> <span class="nf">apply_groupings</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">city_col</span><span class="p">,</span> <span class="n">neighborhood_cols</span><span class="p">,</span> <span class="n">city_name</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">85</span><span class="p">):</span>
    <span class="n">city_group</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">city_col</span><span class="p">]</span> <span class="o">==</span> <span class="n">city_name</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">city_group</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No hay datos disponibles para la ciudad: </span><span class="si">{</span><span class="n">city_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="n">results</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">neighborhood_col</span> <span class="ow">in</span> <span class="n">neighborhood_cols</span><span class="p">:</span>
        <span class="n">names</span> <span class="o">=</span> <span class="n">city_group</span><span class="p">[</span><span class="n">neighborhood_col</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
        <span class="n">master_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">name_mapping</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">master_names</span><span class="p">:</span>
                <span class="n">master_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="n">name_mapping</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">best_match</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">extractOne</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">master_names</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">score</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">:</span>
                    <span class="n">name_mapping</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">best_match</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">master_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                    <span class="n">name_mapping</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>

        <span class="c1"># Aplicar el mapeo</span>
        <span class="n">city_group</span><span class="p">[</span><span class="n">neighborhood_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">city_group</span><span class="p">[</span><span class="n">neighborhood_col</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">name_mapping</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">city_group</span><span class="p">[</span><span class="n">neighborhood_col</span><span class="p">])</span>
    
    <span class="n">results</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">city_group</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Imprimir agrupaciones propuestas para una ciudad específica</span>
<span class="n">print_proposed_groupings</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="s1">&#39;barrio&#39;</span><span class="p">,</span> <span class="s1">&#39;Cartagena&#39;</span><span class="p">,</span><span class="mi">90</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>En &#39;Cartagena&#39;: Agrupando &#39;El Laguito&#39; con &#39;Laguito&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Cabrero&#39; con &#39;El Cabrero&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;El Campestre&#39; con &#39;Campestre&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Castillo Grande&#39; con &#39;Castillogrande&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Santa Monica&#39; con &#39;Santa Mónica&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Escallonvilla&#39; con &#39;Escallon Villa&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;San José De Los Campanos&#39; con &#39;San Jose De Los Campanos&#39; (puntuación: 98)
En &#39;Cartagena&#39;: Agrupando &#39;Boca Grande&#39; con &#39;Bocagrande&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Almirante Colón&#39; con &#39;Almirante Colon&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Cielomar&#39; con &#39;Cielo Mar&#39; (puntuación: 94)
En &#39;Cartagena&#39;: Agrupando &#39;Socorro&#39; con &#39;El Socorro&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Providencia&#39; con &#39;La Providencia&#39; (puntuación: 95)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>En &#39;Cartagena&#39;: Agrupando &#39;Boquilla&#39; con &#39;La Boquilla&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Brusela&#39; con &#39;Bruselas&#39; (puntuación: 93)
En &#39;Cartagena&#39;: Agrupando &#39;Pie De Popa&#39; con &#39;Pie De La Popa&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Zona Norte Serena Del Mar Morros Eco&#39; con &#39;Serena Del Mar Morros Eco&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Terraza De Caliencanto&#39; con &#39;Terraza De Calicanto&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Plazuela&#39; con &#39;La Plazuela&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;República De Chile&#39; con &#39;Republica De Chile&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Nvo Campestre&#39; con &#39;Campestre&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Contadora 3&#39; con &#39;Contadora&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Manzanilllo Del Mar&#39; con &#39;Manzanillo Del Mar&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Campestre Turbaco&#39; con &#39;Zona Campestre Turbaco&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Parque Heredia Manatí&#39; con &#39;Parque Heredia&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Bocagande&#39; con &#39;Bocagrande&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;La Concepcion&#39; con &#39;La Concepción&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Zona Norte De&#39; con &#39;Zona Norte&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Casa Alameda La Victoria&#39; con &#39;Alameda La Victoria&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Urb Villa Rubia&#39; con &#39;Villa Rubia&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Portales De San Fernando 1&#39; con &#39;Portales De Sanfernando&#39; (puntuación: 94)
En &#39;Cartagena&#39;: Agrupando &#39;Simón Bolívar&#39; con &#39;Simon Bolivar&#39; (puntuación: 92)
En &#39;Cartagena&#39;: Agrupando &#39;San Fernando Iii&#39; con &#39;San Fernando&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Carmelo&#39; con &#39;El Carmelo&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;San Fernado&#39; con &#39;San Fernando&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Alameda De La Victoria&#39; con &#39;Alameda La Victoria&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Villa Grande&#39; con &#39;Villagrande&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;El El Socorro&#39; con &#39;El Socorro&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;San Fewrnando&#39; con &#39;San Fernando&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Consolata&#39; con &#39;La Consolata&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Los Caracoles&#39; con &#39;Caracoles&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;San Jose Los Campanos&#39; con &#39;San Jose De Los Campanos&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;El Country&#39; con &#39;Country&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Santa Lucia&#39; con &#39;Santa Lucía&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Urb La Princesa&#39; con &#39;La Princesa&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Concepción&#39; con &#39;La Concepción&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Zona Sur Oriental La Troncal&#39; con &#39;Sur Oriental La Troncal&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Alto Del Bosque&#39; con &#39;Alto Bosque&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Saragocilla&#39; con &#39;Zaragocilla&#39; (puntuación: 91)
En &#39;Cartagena&#39;: Agrupando &#39;Escallón Villa&#39; con &#39;Escallon Villa&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Zaragozilla&#39; con &#39;Zaragocilla&#39; (puntuación: 91)
En &#39;Cartagena&#39;: Agrupando &#39;Serena Del Mar Conjunto Portelo Oportunidad&#39; con &#39;Serena Del Mar Conjunto Portelo&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Paseo Bolívar&#39; con &#39;Paseo Bolivar&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Histórica Y Turística Castillogrande&#39; con &#39;Historica Y Turistica Castillo Grande&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Edificio El Conquistador&#39; con &#39;Edificio Conquistador&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Edificio Nuevo Conquistador&#39; con &#39;Edificio Conquistador&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Calamares&#39; con &#39;Los Calamares&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Castellana&#39; con &#39;La Castellana&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Ciudad Jardín&#39; con &#39;Ciudad Jardin&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Torres Del Jardín&#39; con &#39;Torres Del Jardin&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Edificio Cristoforo&#39; con &#39;Edificio Cristoforo Colombo&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Las Gavias&#39; con &#39;Las Gaviotas&#39; (puntuación: 91)
En &#39;Cartagena&#39;: Agrupando &#39;Edificio Alfonso De Ojeda&#39; con &#39;Edificio De Alonso De Ojeda&#39; (puntuación: 93)
En &#39;Cartagena&#39;: Agrupando &#39;Ejecutivos&#39; con &#39;Los Ejecutivos&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Zona Sur Oriental Los Alpes&#39; con &#39;Zona Sur Oriental Los Abetos&#39; (puntuación: 91)
En &#39;Cartagena&#39;: Agrupando &#39;Laguito Frente Al Mar 4 Alcobas&#39; con &#39;Laguito Frente Al Mar&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Histórica Y Turística Bocagrande&#39; con &#39;Historica Y Turistica Bocagrande&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Princesa&#39; con &#39;La Princesa&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Urbanización Sevilla&#39; con &#39;Urbanización Sevilla Ooaya&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Urbanizacion Vias De La Candelaria&#39; con &#39;Urbanización Villas De La Candelaria&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Edificio Palmetto&#39; con &#39;Edificio Palmetto Sunset&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Bocagrane&#39; con &#39;Bocagrande&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Bocagrande Palmeto 1 Frente Al Mar&#39; con &#39;Bocagrande Palmeto Frente Al Mar&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Avenida Pedro Heredia&#39; con &#39;Avenida Pedro De Heredia&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;De La Virgen Y Turística&#39; con &#39;De La Virgen Y Turistica&#39; (puntuación: 98)
En &#39;Cartagena&#39;: Agrupando &#39;Bocagrande Frente Al Mar 2 Alcobas&#39; con &#39;Bocagrande Frente Al Mar 3 Alcobas&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Bocangrande&#39; con &#39;Bocagrande&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Bocagrande Frente Al Mar Residencial 3 Alcobas&#39; con &#39;Bocagrande Frente Al Mar 3 Alcobas&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Histórica Y Turística Manga&#39; con &#39;Historica Y Turistica Manga&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Manga Frente A Las Bahia&#39; con &#39;Manga Frete A La Bahia&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;La Esperanza&#39; con &#39;La Ezperanza&#39; (puntuación: 92)
En &#39;Cartagena&#39;: Agrupando &#39;Bocagrande Frente Al Mar Residencial 2 Alcobas&#39; con &#39;Bocagrande Frente Al Mar 3 Alcobas&#39; (puntuación: 92)
En &#39;Cartagena&#39;: Agrupando &#39;Historica Y Turistica Pie De La Popa&#39; con &#39;Histórica Y Turística Pie De La Popa&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Pie De La Pópa&#39; con &#39;Pie De La Popa&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Espana&#39; con &#39;España&#39; (puntuación: 91)
En &#39;Cartagena&#39;: Agrupando &#39;Getsemaní&#39; con &#39;Getsemani&#39; (puntuación: 94)
En &#39;Cartagena&#39;: Agrupando &#39;Pie De L Popa&#39; con &#39;Pie De La Popa&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Centro Histórico&#39; con &#39;Centro Historico&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Serena Del Mar Portelo&#39; con &#39;Serena Del Mar Conjunto Portelo&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Torice&#39; con &#39;Torices&#39; (puntuación: 92)
En &#39;Cartagena&#39;: Agrupando &#39;Zona Norte La Boquilla Morros&#39; con &#39;Zona Norte La Boquilla&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Bolivar&#39; con &#39;Bolívar&#39; (puntuación: 92)
En &#39;Cartagena&#39;: Agrupando &#39;San Diego Centro Historico&#39; con &#39;Centro Historico San Diego&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Sector Amurrallad&#39; con &#39;Sector Amurallado&#39; (puntuación: 94)
En &#39;Cartagena&#39;: Agrupando &#39;Paseo Bolibar&#39; con &#39;Paseo De Bolibar&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Histórica Y Turística Cabrero&#39; con &#39;Historica Y Turistica El Cabrero&#39; (puntuación: 92)
En &#39;Cartagena&#39;: Agrupando &#39;Daniel Lemeitre&#39; con &#39;Daniel Lemaitre&#39; (puntuación: 93)
En &#39;Cartagena&#39;: Agrupando &#39;Blaz De Lezo&#39; con &#39;Blas De Lezo&#39; (puntuación: 92)
En &#39;Cartagena&#39;: Agrupando &#39;Historica Y Turistica Crespo&#39; con &#39;Histórica Y Turística Crespo&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Zona Norte Serena Del Mar Morros Ío&#39; con &#39;Zona Norte Serena Del Mar&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Cielo Mar La Boquilla&#39; con &#39;Cielo Mar Boquilla&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Histórica Y Turística Cielo Mar&#39; con &#39;Historica Y Turistica Cielo Mar&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Anillovial&#39; con &#39;Anillo Vial&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;La Boquilla Zona Norte Morros&#39; con &#39;Zona Norte La Boquilla&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Historica Y Turistica La Boquilla&#39; con &#39;Histórica Y Turística La Boquilla&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Punta De Canoa&#39; con &#39;Punta Canoa&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Corregimiento La Boquilla&#39; con &#39;Corregimiento De La Boquilla&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Via La Boquilla&#39; con &#39;La Boquilla&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Terrazas Del Caribe&#39; con &#39;Edificio Terrazas Del Caribe&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Puerta De Las America&#39; con &#39;Puerta De Las Americas&#39; (puntuación: 98)
En &#39;Cartagena&#39;: Agrupando &#39;La Boquilla Morros&#39; con &#39;La Boquilla Zona De Morros&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Historica Y Turistica Serena Del Mar&#39; con &#39;Histórica Y Turística Serena Del Mar&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Burano Serena Del Mar&#39; con &#39;Butano Serena Del Mar&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Serena Del Mar Burano Zona Norte&#39; con &#39;Zona Norte Serena Del Mar&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Historica Y Turistica Manzanillo Del Mar&#39; con &#39;Histórica Y Turística Manzanillo Del Mar&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Morros Serena Del Mar&#39; con &#39;Serena Del Mar Morros Eco&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Zona Norte Morros Io&#39; con &#39;Zona Norte Morros&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Morros Eco Serena Del Mar&#39; con &#39;Serena Del Mar Morros Eco&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Anillo Vial Km 9&#39; con &#39;Anillo Vial&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Puerta De Las Américas&#39; con &#39;Puerta De Las Americas&#39; (puntuación: 98)
En &#39;Cartagena&#39;: Agrupando &#39;Zona Norte Puerta De Las Americas&#39; con &#39;Zona Norte Puerta De Las Américas&#39; (puntuación: 98)
En &#39;Cartagena&#39;: Agrupando &#39;Zona Norte Klm 12&#39; con &#39;Zona Norte Km 12&#39; (puntuación: 97)
En &#39;Cartagena&#39;: Agrupando &#39;Laguna Del Club&#39; con &#39;Laguna Club&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Zona Norte Serena Del Mar Karibana&#39; con &#39;Zona Norte Serena Del Mar&#39; (puntuación: 95)
En &#39;Cartagena&#39;: Agrupando &#39;Punta Canoas&#39; con &#39;Punta Canoa&#39; (puntuación: 96)
En &#39;Cartagena&#39;: Agrupando &#39;Arroyo Piedra&#39; con &#39;Arroyo De Piedra&#39; (puntuación: 95)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lista de ciudades para aplicar la limpieza y agrupación</span>
<span class="n">ciudades</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="c1"># Columnas a limpiar</span>
<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;barrio&#39;</span><span class="p">,</span> <span class="s1">&#39;Sector&#39;</span><span class="p">]</span>

<span class="c1"># Aplicar agrupaciones por cada ciudad y columna especificada</span>
<span class="k">for</span> <span class="n">ciudad</span> <span class="ow">in</span> <span class="n">ciudades</span><span class="p">:</span>
    <span class="n">ventas</span> <span class="o">=</span> <span class="n">apply_groupings</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">ciudad</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: FutureWarning:

Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option(&#39;future.no_silent_downcasting&#39;, True)`

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: FutureWarning:

Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option(&#39;future.no_silent_downcasting&#39;, True)`

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: FutureWarning:

Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option(&#39;future.no_silent_downcasting&#39;, True)`

C:\Users\Linda Herrera\AppData\Local\Temp\ipykernel_25628\639888549.py:28: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Revisar los resultados después de la limpieza</span>
<span class="c1">#print(&quot;Valores únicos en &#39;barrio&#39; después de la limpieza:\n&quot;, ventas[&#39;barrio&#39;].value_counts())</span>
<span class="c1">#print(&quot;Valores únicos en &#39;Sector&#39; después de la limpieza:\n&quot;, ventas[&#39;Sector&#39;].value_counts())</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="lat-y-long">
<h2>Lat y Long<a class="headerlink" href="#lat-y-long" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Preparar los datos para la latitud</span>
<span class="n">data_lat</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="s1">&#39;lat&#39;</span><span class="p">]]</span>

<span class="c1"># Crear boxplot para la latitud por ciudad</span>
<span class="n">fig_lat</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">data_lat</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span>
                 <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;lat&#39;</span><span class="p">:</span> <span class="s1">&#39;Latitude&#39;</span><span class="p">},</span>
                 <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot of Latitude by City&#39;</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span>
                 <span class="n">category_orders</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ciudad&quot;</span><span class="p">:</span> <span class="n">data_lat</span><span class="p">[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()},</span>
                 <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="n">custom_colors</span><span class="p">)</span>
<span class="n">fig_lat</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Preparar los datos para la longitud</span>
<span class="n">data_long</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="s1">&#39;long&#39;</span><span class="p">]]</span>

<span class="c1"># Crear boxplot para la longitud por ciudad</span>
<span class="n">fig_long</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">data_long</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;long&#39;</span><span class="p">,</span>
                  <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;long&#39;</span><span class="p">:</span> <span class="s1">&#39;Longitude&#39;</span><span class="p">},</span>
                  <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot of Longitude by City&#39;</span><span class="p">,</span>
                  <span class="n">color</span><span class="o">=</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span>
                  <span class="n">category_orders</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ciudad&quot;</span><span class="p">:</span> <span class="n">data_long</span><span class="p">[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()},</span>
                  <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="n">custom_colors</span><span class="p">)</span>
<span class="n">fig_long</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ciudades únicas en el DataFrame</span>
<span class="n">ciudades</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="c1"># Iterar sobre cada ciudad y cada columna relevante</span>
<span class="k">for</span> <span class="n">ciudad</span> <span class="ow">in</span> <span class="n">ciudades</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="s1">&#39;long&#39;</span><span class="p">]:</span>
        <span class="c1"># Filtrar los datos para la ciudad actual</span>
        <span class="n">df_ciudad</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">ciudad</span><span class="p">]</span>
        
        <span class="c1"># Si df_ciudad es vacío, continuar al próximo ciclo</span>
        <span class="k">if</span> <span class="n">df_ciudad</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="k">continue</span>
        
        <span class="c1"># Detectar outliers usando IQR o cualquier método deseado</span>
        <span class="c1"># Aquí usamos un ejemplo con IQR, puedes cambiar a Rosner o z-score si prefieres</span>
        <span class="n">outliers</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">cant</span> <span class="o">=</span> <span class="n">detect_outliers</span><span class="p">(</span><span class="n">df_ciudad</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">)</span>
        
        <span class="c1"># Mostrar resultados</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Procesando </span><span class="si">{</span><span class="n">ciudad</span><span class="si">}</span><span class="s2"> para la columna </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Outliers detectados: </span><span class="si">{</span><span class="n">cant</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        
        <span class="c1"># Reemplazar outliers en el DataFrame original</span>
        <span class="n">ventas</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">outliers</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="c1"># Verificar cambios en el DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Actualización de valores atípicos completada.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ventas</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Análisis descriptivo de valores atípicos en &#39;lat&#39;:
     count      mean       std       min    25%       50%    75%        max
lat  219.0  4.385069  1.553081 -3.556624  3.853  4.638382  4.659  10.958079

Porcentaje de valores atípicos: 1.07%

Cantidad de valores atípicos: 219
Procesando Cali para la columna lat:
Outliers detectados: 219
Análisis descriptivo de valores atípicos en &#39;long&#39;:
      count       mean     std        min        25%       50%        75%  \
long  794.0 -76.072102  1.0168 -77.653305 -76.634003 -76.47419 -76.400276   

            max  
long -67.130997  

Porcentaje de valores atípicos: 3.87%

Cantidad de valores atípicos: 794
Procesando Cali para la columna long:
Outliers detectados: 794
Análisis descriptivo de valores atípicos en &#39;lat&#39;:
      count     mean       std       min       25%       50%       75%  \
lat  1829.0  4.61057  1.152197 -2.889093  4.500433  4.529538  5.026003   

           max  
lat  11.234455  

Porcentaje de valores atípicos: 2.17%

Cantidad de valores atípicos: 1829
Procesando Bogotá para la columna lat:
Outliers detectados: 1829
Análisis descriptivo de valores atípicos en &#39;long&#39;:
      count       mean       std       min        25%        50%        75%  \
long  802.0 -74.242231  0.496385 -78.05912 -74.220552 -74.206444 -74.202578   

            max  
long -70.401871  

Porcentaje de valores atípicos: 0.95%

Cantidad de valores atípicos: 802
Procesando Bogotá para la columna long:
Outliers detectados: 802
Análisis descriptivo de valores atípicos en &#39;lat&#39;:
     count      mean      std       min       25%       50%       75%  \
lat  349.0  5.477881  2.01845 -2.193166  4.638403  4.818041  6.338843   

           max  
lat  11.007351  

Porcentaje de valores atípicos: 1.28%

Cantidad de valores atípicos: 349
Procesando Medellín para la columna lat:
Outliers detectados: 349
Análisis descriptivo de valores atípicos en &#39;long&#39;:
      count       mean       std        min        25%        50%        75%  \
long  357.0 -75.050373  1.122537 -77.282875 -75.654953 -75.421822 -74.088768   

            max  
long -67.606613  

Porcentaje de valores atípicos: 1.31%

Cantidad de valores atípicos: 357
Procesando Medellín para la columna long:
Outliers detectados: 357
Análisis descriptivo de valores atípicos en &#39;lat&#39;:
      count      mean       std      min        25%    50%        75%  \
lat  1007.0  9.423289  2.909658 -2.03744  10.765924  10.94  10.951557   

          max  
lat  11.40061  

Porcentaje de valores atípicos: 6.66%

Cantidad de valores atípicos: 1007
Procesando Barranquilla para la columna lat:
Outliers detectados: 1007
Análisis descriptivo de valores atípicos en &#39;long&#39;:
      count       mean       std        min        25%        50%        75%  \
long  881.0 -74.662721  0.613513 -77.165459 -74.864281 -74.860291 -74.765999   

            max  
long -70.092003  

Porcentaje de valores atípicos: 5.83%

Cantidad de valores atípicos: 881
Procesando Barranquilla para la columna long:
Outliers detectados: 881
Análisis descriptivo de valores atípicos en &#39;lat&#39;:
     count      mean       std       min        25%        50%        75%  \
lat  695.0  9.844723  1.848542 -0.341669  10.516069  10.523467  10.539501   

           max  
lat  11.241883  

Porcentaje de valores atípicos: 7.43%

Cantidad de valores atípicos: 695
Procesando Cartagena para la columna lat:
Outliers detectados: 695
Análisis descriptivo de valores atípicos en &#39;long&#39;:
      count       mean       std        min        25%        50%        75%  \
long  156.0 -74.926086  0.870376 -78.530228 -75.412905 -75.344284 -74.080841   

            max  
long -72.523697  

Porcentaje de valores atípicos: 1.67%

Cantidad de valores atípicos: 156
Procesando Cartagena para la columna long:
Outliers detectados: 156
Análisis descriptivo de valores atípicos en &#39;lat&#39;:
     count      mean       std      min       25%      50%       75%  \
lat  285.0  4.682115  1.770634 -0.02284  4.649844  4.98273  5.094157   

           max  
lat  10.983285  

Porcentaje de valores atípicos: 3.58%

Cantidad de valores atípicos: 285
Procesando Manizales para la columna lat:
Outliers detectados: 285
Análisis descriptivo de valores atípicos en &#39;long&#39;:
      count       mean       std       min        25%        50%        75%  \
long  244.0 -74.800251  1.166495 -77.66774 -75.639828 -74.805332 -74.053841   

            max  
long -69.048035  

Porcentaje de valores atípicos: 3.07%

Cantidad de valores atípicos: 244
Procesando Manizales para la columna long:
Outliers detectados: 244
Análisis descriptivo de valores atípicos en &#39;lat&#39;:
     count      mean       std       min      25%       50%       75%  \
lat  312.0  4.772663  0.673818 -0.019505  4.75006  4.788556  4.831832   

           max  
lat  10.899787  

Porcentaje de valores atípicos: 5.92%

Cantidad de valores atípicos: 312
Procesando Pereira para la columna lat:
Outliers detectados: 312
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Análisis descriptivo de valores atípicos en &#39;long&#39;:
      count     mean       std        min        25%       50%        75%  \
long  350.0 -75.5559  0.689367 -76.734711 -75.846542 -75.80415 -75.795998   

            max  
long -70.516022  

Porcentaje de valores atípicos: 6.64%

Cantidad de valores atípicos: 350
Procesando Pereira para la columna long:
Outliers detectados: 350
Análisis descriptivo de valores atípicos en &#39;lat&#39;:
     count  mean  std  min  25%  50%  75%  max
lat    0.0   NaN  NaN  NaN  NaN  NaN  NaN  NaN

Porcentaje de valores atípicos: 0.00%

Cantidad de valores atípicos: 0
Procesando Bello para la columna lat:
Outliers detectados: 0
Análisis descriptivo de valores atípicos en &#39;long&#39;:
      count  mean  std  min  25%  50%  75%  max
long    0.0   NaN  NaN  NaN  NaN  NaN  NaN  NaN

Porcentaje de valores atípicos: 0.00%

Cantidad de valores atípicos: 0
Procesando Bello para la columna long:
Outliers detectados: 0
Actualización de valores atípicos completada.
lat                     24375
long                    23382
category                    0
price                      13
rooms                    6699
baths                    2597
park                     1923
ciudad                      0
barrio                    305
area_privada            59262
area_const              12772
admon                   70017
Estrato                  2427
Estado                  70978
Antiguedad              29715
Piso No                 67830
Tipo de Apartamento    111976
Sector                  35378
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definir los límites de latitud y longitud para las ciudades mencionadas</span>
<span class="n">ciudades_limites</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Bogotá&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lat_min&#39;</span><span class="p">:</span> <span class="mf">4.4</span><span class="p">,</span> <span class="s1">&#39;lat_max&#39;</span><span class="p">:</span> <span class="mf">4.9</span><span class="p">,</span> <span class="s1">&#39;long_min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">74.3</span><span class="p">,</span> <span class="s1">&#39;long_max&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">73.9</span><span class="p">},</span>
    <span class="s1">&#39;Medellín&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lat_min&#39;</span><span class="p">:</span> <span class="mf">6.05</span><span class="p">,</span> <span class="s1">&#39;lat_max&#39;</span><span class="p">:</span> <span class="mf">6.5</span><span class="p">,</span> <span class="s1">&#39;long_min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">75.8</span><span class="p">,</span> <span class="s1">&#39;long_max&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">75.4</span><span class="p">},</span>
    <span class="s1">&#39;Cali&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lat_min&#39;</span><span class="p">:</span> <span class="mf">3.2</span><span class="p">,</span> <span class="s1">&#39;lat_max&#39;</span><span class="p">:</span> <span class="mf">3.7</span><span class="p">,</span> <span class="s1">&#39;long_min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">76.7</span><span class="p">,</span> <span class="s1">&#39;long_max&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">76.3</span><span class="p">},</span>
    <span class="s1">&#39;Barranquilla&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lat_min&#39;</span><span class="p">:</span> <span class="mf">10.75</span><span class="p">,</span> <span class="s1">&#39;lat_max&#39;</span><span class="p">:</span> <span class="mf">11.15</span><span class="p">,</span> <span class="s1">&#39;long_min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">75.1</span><span class="p">,</span> <span class="s1">&#39;long_max&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">74.65</span><span class="p">},</span>
    <span class="s1">&#39;Cartagena&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lat_min&#39;</span><span class="p">:</span> <span class="mf">10.2</span><span class="p">,</span> <span class="s1">&#39;lat_max&#39;</span><span class="p">:</span> <span class="mf">10.6</span><span class="p">,</span> <span class="s1">&#39;long_min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">75.7</span><span class="p">,</span> <span class="s1">&#39;long_max&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">75.3</span><span class="p">},</span>
    <span class="s1">&#39;Manizales&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lat_min&#39;</span><span class="p">:</span> <span class="mf">4.9</span><span class="p">,</span> <span class="s1">&#39;lat_max&#39;</span><span class="p">:</span> <span class="mf">5.3</span><span class="p">,</span> <span class="s1">&#39;long_min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">75.7</span><span class="p">,</span> <span class="s1">&#39;long_max&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">75.3</span><span class="p">},</span>
    <span class="s1">&#39;Pereira&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lat_min&#39;</span><span class="p">:</span> <span class="mf">4.65</span><span class="p">,</span> <span class="s1">&#39;lat_max&#39;</span><span class="p">:</span> <span class="mf">5.1</span><span class="p">,</span> <span class="s1">&#39;long_min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">76.1</span><span class="p">,</span> <span class="s1">&#39;long_max&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">75.6</span><span class="p">},</span>
    <span class="s1">&#39;Bello&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lat_min&#39;</span><span class="p">:</span> <span class="mf">6.3</span><span class="p">,</span> <span class="s1">&#39;lat_max&#39;</span><span class="p">:</span> <span class="mf">6.5</span><span class="p">,</span> <span class="s1">&#39;long_min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">75.6</span><span class="p">,</span> <span class="s1">&#39;long_max&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">75.4</span><span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Crear una nueva columna para identificar si la latitud y longitud están fuera de los límites</span>
<span class="k">def</span> <span class="nf">fuera_de_limites</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
    <span class="n">limits</span> <span class="o">=</span> <span class="n">ciudades_limites</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">limits</span> <span class="ow">and</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">limits</span><span class="p">[</span><span class="s1">&#39;lat_min&#39;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">limits</span><span class="p">[</span><span class="s1">&#39;lat_max&#39;</span><span class="p">]</span> <span class="ow">or</span>
                   <span class="n">row</span><span class="p">[</span><span class="s1">&#39;long&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">limits</span><span class="p">[</span><span class="s1">&#39;long_min&#39;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;long&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">limits</span><span class="p">[</span><span class="s1">&#39;long_max&#39;</span><span class="p">]):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;fuera_de_limites&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ventas</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">fuera_de_limites</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Filtrar los datos que están fuera de los límites</span>
<span class="n">datos_fuera</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;fuera_de_limites&#39;</span><span class="p">]]</span>

<span class="c1"># Mostrar los datos que están fuera de los límites</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Puntos fuera de límites:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datos_fuera</span><span class="p">[[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="s1">&#39;long&#39;</span><span class="p">]])</span>

<span class="c1"># Eliminar la columna &#39;fuera_de_limites&#39;</span>
<span class="n">ventas</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;fuera_de_limites&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Puntos fuera de límites:
Empty DataFrame
Columns: [ciudad, lat, long]
Index: []
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Preparar los datos para la latitud</span>
<span class="n">data_lat</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="s1">&#39;lat&#39;</span><span class="p">]]</span>

<span class="c1"># Crear boxplot para la latitud por ciudad</span>
<span class="n">fig_lat</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">data_lat</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span>
                 <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;lat&#39;</span><span class="p">:</span> <span class="s1">&#39;Latitude&#39;</span><span class="p">},</span>
                 <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot of Latitude by City&#39;</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span>
                 <span class="n">category_orders</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ciudad&quot;</span><span class="p">:</span> <span class="n">data_lat</span><span class="p">[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()},</span>
                 <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="n">custom_colors</span><span class="p">)</span>
<span class="n">fig_lat</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Preparar los datos para la longitud</span>
<span class="n">data_long</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="s1">&#39;long&#39;</span><span class="p">]]</span>

<span class="c1"># Crear boxplot para la longitud por ciudad</span>
<span class="n">fig_long</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">data_long</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;long&#39;</span><span class="p">,</span>
                  <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;long&#39;</span><span class="p">:</span> <span class="s1">&#39;Longitude&#39;</span><span class="p">},</span>
                  <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Boxplot of Longitude by City&#39;</span><span class="p">,</span>
                  <span class="n">color</span><span class="o">=</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span>
                  <span class="n">category_orders</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ciudad&quot;</span><span class="p">:</span> <span class="n">data_long</span><span class="p">[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()},</span>
                  <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="n">custom_colors</span><span class="p">)</span>
<span class="n">fig_long</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
<section id="price">
<h2>Price<a class="headerlink" href="#price" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un histograma del precio</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Histograma de precio&#39;</span><span class="p">,</span>
                   <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="s1">&#39;Precio&#39;</span><span class="p">},</span>
                   <span class="n">opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="c1"># Personalizar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Precio&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker_line_color</span><span class="o">=</span><span class="s1">&#39;#D99982&#39;</span><span class="p">,</span> <span class="n">marker_color</span><span class="o">=</span><span class="s1">&#39;#1F3040&#39;</span><span class="p">)</span>  

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">figprice1</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Estrato&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">,</span><span class="n">notched</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Estrato&#39;</span><span class="p">,</span> <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="n">custom_colors</span><span class="p">)</span>
<span class="n">figprice1</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Basados en la información de las noticias compartidas en el análisis de la variable área construida, el precio de las viviendas más lujosas de Colombia no superan los 18 mil millones, por ende, pasaremos a datos nulos todos los valores superiores a <span class="math notranslate nohighlight">\(18.000.000.000\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Contar los valores mayores que 18000000000</span>
<span class="n">valores_mayores_18000000000</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">18000000000</span><span class="p">][</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># Calcular el total de entradas no nulas en la columna &#39;price&#39;</span>
<span class="n">total_entradas</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Calcular el porcentaje</span>
<span class="n">porcentaje_mayores_18000000000</span> <span class="o">=</span> <span class="p">(</span><span class="n">valores_mayores_18000000000</span> <span class="o">/</span> <span class="n">total_entradas</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

<span class="c1"># Imprimir los resultados</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cantidad de valores mayores que 18000000000 en &#39;price&#39;:&quot;</span><span class="p">,</span> <span class="n">valores_mayores_18000000000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Porcentaje de valores mayores que 18000000000 en &#39;price&#39;: </span><span class="si">{:.2f}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">porcentaje_mayores_18000000000</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de valores mayores que 18000000000 en &#39;price&#39;: 99
Porcentaje de valores mayores que 18000000000 en &#39;price&#39;: 0.06%
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Marcar valores superiores a 18000000000 en &#39;price&#39; como NaN</span>
<span class="n">ventas</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">18000000000</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un histograma del precio</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Histograma de precio&#39;</span><span class="p">,</span>
                   <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="s1">&#39;Precio&#39;</span><span class="p">},</span>
                   <span class="n">opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="c1"># Personalizar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Precio&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker_line_color</span><span class="o">=</span><span class="s1">&#39;#D99982&#39;</span><span class="p">,</span> <span class="n">marker_color</span><span class="o">=</span><span class="s1">&#39;#1F3040&#39;</span><span class="p">)</span>  

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">figprice1</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Estrato&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">,</span><span class="n">notched</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Estrato&#39;</span><span class="p">,</span> <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="n">custom_colors</span><span class="p">)</span>
<span class="n">figprice1</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<section id="analisis-de-datos-atipicos-por-estrato-y-ciudad">
<h3>Análisis de datos atípicos por estrato y ciudad:<a class="headerlink" href="#analisis-de-datos-atipicos-por-estrato-y-ciudad" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Combinaciones únicas de ciudad y estrato en el DataFrame</span>
<span class="n">combinaciones</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="s1">&#39;Estrato&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

<span class="c1"># Iterar sobre cada combinación de ciudad y estrato</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">combinaciones</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">ciudad</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">]</span>
    <span class="n">estrato</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Estrato&#39;</span><span class="p">]</span>
    
    <span class="c1"># Filtrar los datos para la combinación actual de ciudad y estrato</span>
    <span class="n">df_filtrado</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[(</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">ciudad</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;Estrato&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">estrato</span><span class="p">)]</span>
    
    <span class="c1"># Si df_filtrado es vacío, continuar al próximo ciclo</span>
    <span class="k">if</span> <span class="n">df_filtrado</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">continue</span>
    
    <span class="c1"># Detectar outliers usando IQR o cualquier método deseado para la columna &#39;price&#39;</span>
    <span class="n">outliers</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">cant</span> <span class="o">=</span> <span class="n">detect_outliers</span><span class="p">(</span><span class="n">df_filtrado</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">)</span>
    
    <span class="c1"># Mostrar resultados</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Procesando </span><span class="si">{</span><span class="n">ciudad</span><span class="si">}</span><span class="s2">, Estrato </span><span class="si">{</span><span class="n">estrato</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Outliers detectados en &#39;price&#39;: </span><span class="si">{</span><span class="n">cant</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="c1"># Reemplazar outliers en el DataFrame original</span>
    <span class="n">ventas</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">outliers</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="c1"># Verificar cambios en el DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Actualización de valores atípicos completada.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ventas</span><span class="p">[[</span><span class="s1">&#39;ciudad&#39;</span><span class="p">,</span> <span class="s1">&#39;Estrato&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price  306.0  8.355071e+08  4.659482e+08  549500000.0  590375761.0   

               50%          75%           max  
price  680000000.0  850000000.0  4.600000e+09  

Porcentaje de valores atípicos: 5.78%

Cantidad de valores atípicos: 306
Procesando Cali, Estrato 4.0:
Outliers detectados en &#39;price&#39;: 306
Análisis descriptivo de valores atípicos en &#39;price&#39;:
        count          mean           std          min          25%  \
price  1632.0  1.078356e+09  5.485585e+08  720000000.0  790000000.0   

               50%           75%           max  
price  880750000.0  1.150000e+09  5.000000e+09  

Porcentaje de valores atípicos: 7.13%

Cantidad de valores atípicos: 1632
Procesando Bogotá, Estrato 3.0:
Outliers detectados en &#39;price&#39;: 1632
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price  584.0  8.606862e+08  5.655010e+08  510000000.0  580000000.0   

               50%          75%           max  
price  650000000.0  850000000.0  5.000000e+09  

Porcentaje de valores atípicos: 6.39%

Cantidad de valores atípicos: 584
Procesando Bogotá, Estrato 2.0:
Outliers detectados en &#39;price&#39;: 584
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price  221.0  7.174545e+08  7.248375e+08  435000000.0  480000000.0   

               50%          75%           max  
price  560000000.0  750000000.0  1.000000e+10  

Porcentaje de valores atípicos: 5.38%

Cantidad de valores atípicos: 221
Procesando Medellín, Estrato 3.0:
Outliers detectados en &#39;price&#39;: 221
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price  402.0  1.175379e+09  6.488420e+08  710000000.0  800000000.0   

               50%           75%           max  
price  930000000.0  1.300000e+09  5.816000e+09  

Porcentaje de valores atípicos: 8.54%

Cantidad de valores atípicos: 402
Procesando Barranquilla, Estrato 4.0:
Outliers detectados en &#39;price&#39;: 402
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std        min          25%          50%  \
price  376.0  1.035094e+09  1.087344e+09  1350000.0  670000000.0  800000000.0   

               75%           max  
price  998250000.0  1.800000e+10  

Porcentaje de valores atípicos: 6.66%

Cantidad de valores atípicos: 376
Procesando Medellín, Estrato 4.0:
Outliers detectados en &#39;price&#39;: 376
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price  133.0  1.622047e+09  1.960751e+09  630000000.0  700000000.0   

               50%           75%           max  
price  900000000.0  1.500000e+09  1.482000e+10  

Porcentaje de valores atípicos: 9.98%

Cantidad de valores atípicos: 133
Procesando Cartagena, Estrato 3.0:
Outliers detectados en &#39;price&#39;: 133
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price  132.0  7.730173e+08  3.424970e+08  550000000.0  597750000.0   

               50%          75%           max  
price  680000000.0  792500000.0  2.800000e+09  

Porcentaje de valores atípicos: 6.73%

Cantidad de valores atípicos: 132
Procesando Barranquilla, Estrato 3.0:
Outliers detectados en &#39;price&#39;: 132
Análisis descriptivo de valores atípicos en &#39;price&#39;:
        count          mean           std          min           25%  \
price  1411.0  1.445029e+09  6.938966e+08  941000000.0  1.050000e+09   

                50%           75%           max  
price  1.200000e+09  1.550000e+09  8.950000e+09  

Porcentaje de valores atípicos: 6.90%

Cantidad de valores atípicos: 1411
Procesando Bogotá, Estrato 4.0:
Outliers detectados en &#39;price&#39;: 1411
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std           min           25%  \
price  698.0  2.390218e+09  1.058297e+09  1.595000e+09  1.750000e+09   

                50%           75%           max  
price  2.000000e+09  2.600000e+09  9.000000e+09  

Porcentaje de valores atípicos: 5.59%

Cantidad de valores atípicos: 698
Procesando Bogotá, Estrato 5.0:
Outliers detectados en &#39;price&#39;: 698
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price   65.0  2.211786e+09  2.379808e+09  595000000.0  950000000.0   

                50%           75%           max  
price  1.550000e+09  2.500000e+09  1.500000e+10  

Porcentaje de valores atípicos: 10.85%

Cantidad de valores atípicos: 65
Procesando Bogotá, Estrato 1.0:
Outliers detectados en &#39;price&#39;: 65
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std           min           25%  \
price  436.0  1.645175e+09  8.360493e+08  1.020000e+09  1.200000e+09   

                50%           75%           max  
price  1.350000e+09  1.700000e+09  8.500000e+09  

Porcentaje de valores atípicos: 5.65%

Cantidad de valores atípicos: 436
Procesando Medellín, Estrato 5.0:
Outliers detectados en &#39;price&#39;: 436
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price  104.0  7.557212e+08  3.152872e+08  490000000.0  550000000.0   

               50%          75%           max  
price  650000000.0  862500000.0  2.500000e+09  

Porcentaje de valores atípicos: 5.13%

Cantidad de valores atípicos: 104
Procesando Manizales, Estrato 3.0:
Outliers detectados en &#39;price&#39;: 104
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std           min           25%  \
price  302.0  2.580021e+09  9.942041e+08  1.780000e+09  1.950000e+09   

                50%           75%           max  
price  2.300000e+09  2.800000e+09  9.700000e+09  

Porcentaje de valores atípicos: 7.57%

Cantidad de valores atípicos: 302
Procesando Barranquilla, Estrato 6.0:
Outliers detectados en &#39;price&#39;: 302
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std           min           25%  \
price  158.0  1.682639e+09  8.340423e+08  1.130000e+09  1.250000e+09   

                50%           75%           max  
price  1.400000e+09  1.800000e+09  9.000000e+09  

Porcentaje de valores atípicos: 6.87%

Cantidad de valores atípicos: 158
Procesando Pereira, Estrato 6.0:
Outliers detectados en &#39;price&#39;: 158
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price   47.0  1.310216e+09  1.049612e+09  430000000.0  565000000.0   

               50%           75%           max  
price  966469500.0  1.732500e+09  5.269941e+09  

Porcentaje de valores atípicos: 7.95%

Cantidad de valores atípicos: 47
Procesando Medellín, Estrato 2.0:
Outliers detectados en &#39;price&#39;: 47
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std           min           25%  \
price  281.0  1.568456e+09  5.677135e+08  1.040000e+09  1.200000e+09   

                50%           75%           max  
price  1.400000e+09  1.700000e+09  4.500000e+09  

Porcentaje de valores atípicos: 7.24%

Cantidad de valores atípicos: 281
Procesando Barranquilla, Estrato 5.0:
Outliers detectados en &#39;price&#39;: 281
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price   24.0  8.122083e+08  6.832535e+08  450000000.0  477500000.0   

               50%          75%           max  
price  615000000.0  750000000.0  3.708000e+09  

Porcentaje de valores atípicos: 3.44%

Cantidad de valores atípicos: 24
Procesando Cali, Estrato 2.0:
Outliers detectados en &#39;price&#39;: 24
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price    8.0  1.171250e+09  4.435711e+08  750000000.0  967500000.0   

                50%           75%           max  
price  1.075000e+09  1.200000e+09  2.200000e+09  

Porcentaje de valores atípicos: 12.12%

Cantidad de valores atípicos: 8
Procesando Barranquilla, Estrato 1.0:
Outliers detectados en &#39;price&#39;: 8
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price  364.0  1.421534e+09  8.094807e+08  860000000.0  967500000.0   

                50%           75%           max  
price  1.155000e+09  1.500000e+09  7.560000e+09  

Porcentaje de valores atípicos: 5.87%

Cantidad de valores atípicos: 364
Procesando Cali, Estrato 5.0:
Outliers detectados en &#39;price&#39;: 364
Análisis descriptivo de valores atípicos en &#39;price&#39;:
        count          mean           std           min           25%  \
price  1086.0  4.531689e+09  1.856944e+09  3.040000e+09  3.486000e+09   

                50%           75%           max  
price  3.900000e+09  4.997500e+09  1.800000e+10  

Porcentaje de valores atípicos: 6.43%

Cantidad de valores atípicos: 1086
Procesando Bogotá, Estrato 6.0:
Outliers detectados en &#39;price&#39;: 1086
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std           min           25%  \
price  184.0  1.646132e+09  5.951460e+08  1.100000e+09  1.200000e+09   

                50%           75%           max  
price  1.400000e+09  1.800000e+09  4.500000e+09  

Porcentaje de valores atípicos: 7.60%

Cantidad de valores atípicos: 184
Procesando Manizales, Estrato 6.0:
Outliers detectados en &#39;price&#39;: 184
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price   90.0  9.866111e+08  2.869814e+08  680000000.0  750000000.0   

               50%           75%           max  
price  895000000.0  1.200000e+09  2.000000e+09  

Porcentaje de valores atípicos: 7.70%

Cantidad de valores atípicos: 90
Procesando Manizales, Estrato 5.0:
Outliers detectados en &#39;price&#39;: 90
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price  205.0  8.858543e+08  4.202025e+08  530000000.0  630000000.0   

               50%          75%           max  
price  750000000.0  950000000.0  4.000000e+09  

Porcentaje de valores atípicos: 10.36%

Cantidad de valores atípicos: 205
Procesando Manizales, Estrato 4.0:
Outliers detectados en &#39;price&#39;: 205
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std           min           25%  \
price  710.0  3.194961e+09  1.317177e+09  2.040000e+09  2.400000e+09   

                50%           75%           max  
price  2.800000e+09  3.500000e+09  1.300000e+10  

Porcentaje de valores atípicos: 7.93%

Cantidad de valores atípicos: 710
Procesando Medellín, Estrato 6.0:
Outliers detectados en &#39;price&#39;: 710
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price   92.0  1.004391e+09  4.260051e+08  650000000.0  700000000.0   

               50%           75%           max  
price  850000000.0  1.200000e+09  3.300000e+09  

Porcentaje de valores atípicos: 7.27%

Cantidad de valores atípicos: 92
Procesando Pereira, Estrato 5.0:
Outliers detectados en &#39;price&#39;: 92
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std           min           25%  \
price  343.0  3.709420e+09  1.482073e+09  2.550000e+09  2.880000e+09   

                50%           75%           max  
price  3.200000e+09  3.900000e+09  1.240000e+10  

Porcentaje de valores atípicos: 7.04%

Cantidad de valores atípicos: 343
Procesando Cali, Estrato 6.0:
Outliers detectados en &#39;price&#39;: 343
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price   72.0  8.766667e+08  6.123471e+08  440000000.0  515000000.0   

               50%           75%           max  
price  600000000.0  1.112500e+09  4.500000e+09  

Porcentaje de valores atípicos: 6.78%

Cantidad de valores atípicos: 72
Procesando Pereira, Estrato 4.0:
Outliers detectados en &#39;price&#39;: 72
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std           min           25%  \
price  274.0  4.353214e+09  2.372413e+09  2.500000e+09  2.900000e+09   

                50%           75%           max  
price  3.500000e+09  4.558575e+09  1.700000e+10  

Porcentaje de valores atípicos: 9.24%

Cantidad de valores atípicos: 274
Procesando Cartagena, Estrato 6.0:
Outliers detectados en &#39;price&#39;: 274
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price   23.0  6.806957e+08  2.586894e+08  370000000.0  480000000.0   

               50%          75%           max  
price  646000000.0  850000000.0  1.200000e+09  

Porcentaje de valores atípicos: 8.36%

Cantidad de valores atípicos: 23
Procesando Manizales, Estrato 2.0:
Outliers detectados en &#39;price&#39;: 23
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price   27.0  1.030967e+09  2.024361e+09  450000000.0  477500000.0   

               50%          75%           max  
price  550000100.0  800000000.0  1.111111e+10  

Porcentaje de valores atípicos: 6.75%

Cantidad de valores atípicos: 27
Procesando Pereira, Estrato 3.0:
Outliers detectados en &#39;price&#39;: 27
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std         min          25%  \
price   11.0  4.249091e+08  2.087091e+08  46000000.0  310000000.0   

               50%          75%          max  
price  400000000.0  490000000.0  850000000.0  

Porcentaje de valores atípicos: 6.83%

Cantidad de valores atípicos: 11
Procesando Pereira, Estrato 2.0:
Outliers detectados en &#39;price&#39;: 11
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std           min           25%  \
price  333.0  2.920149e+09  2.755421e+09  1.200000e+09  1.350000e+09   

                50%           75%           max  
price  1.800000e+09  3.300000e+09  1.800000e+10  

Porcentaje de valores atípicos: 10.67%

Cantidad de valores atípicos: 333
Procesando Cartagena, Estrato 5.0:
Outliers detectados en &#39;price&#39;: 333
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price  126.0  8.187907e+08  6.354761e+08  545000000.0  582500000.0   

               50%          75%           max  
price  679000000.0  807500000.0  7.000000e+09  

Porcentaje de valores atípicos: 4.13%

Cantidad de valores atípicos: 126
Procesando Cali, Estrato 3.0:
Outliers detectados en &#39;price&#39;: 126
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min           25%  \
price  129.0  2.173458e+09  1.881359e+09  950000000.0  1.200000e+09   

                50%           75%           max  
price  1.590000e+09  2.400000e+09  1.200000e+10  

Porcentaje de valores atípicos: 8.11%

Cantidad de valores atípicos: 129
Procesando Cartagena, Estrato 4.0:
Outliers detectados en &#39;price&#39;: 129
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price   26.0  7.382527e+08  5.977224e+08  380000000.0  435000000.0   

               50%          75%           max  
price  535000000.0  700000000.0  3.300000e+09  

Porcentaje de valores atípicos: 7.03%

Cantidad de valores atípicos: 26
Procesando Barranquilla, Estrato 2.0:
Outliers detectados en &#39;price&#39;: 26
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price   21.0  1.807503e+09  1.288327e+09  680000000.0  900000000.0   

                50%           75%           max  
price  1.450000e+09  2.200000e+09  5.582565e+09  

Porcentaje de valores atípicos: 10.66%

Cantidad de valores atípicos: 21
Procesando Cartagena, Estrato 2.0:
Outliers detectados en &#39;price&#39;: 21
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price    5.0  1.211000e+09  4.419333e+08  740000000.0  800000000.0   

                50%           75%           max  
price  1.215000e+09  1.600000e+09  1.700000e+09  

Porcentaje de valores atípicos: 7.94%

Cantidad de valores atípicos: 5
Procesando Medellín, Estrato 1.0:
Outliers detectados en &#39;price&#39;: 5
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std           min           25%  \
price    3.0  1.616667e+09  1.607275e+08  1.500000e+09  1.525000e+09   

                50%           75%           max  
price  1.550000e+09  1.675000e+09  1.800000e+09  

Porcentaje de valores atípicos: 6.98%

Cantidad de valores atípicos: 3
Procesando Cartagena, Estrato 1.0:
Outliers detectados en &#39;price&#39;: 3
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count         mean  std          min          25%          50%  \
price    1.0  600000000.0  NaN  600000000.0  600000000.0  600000000.0   

               75%          max  
price  600000000.0  600000000.0  

Porcentaje de valores atípicos: 5.00%

Cantidad de valores atípicos: 1
Procesando Manizales, Estrato 1.0:
Outliers detectados en &#39;price&#39;: 1
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean           std          min          25%  \
price    9.0  6.538889e+08  2.436670e+08  390000000.0  480000000.0   

               50%          75%           max  
price  580000000.0  800000000.0  1.100000e+09  

Porcentaje de valores atípicos: 9.18%

Cantidad de valores atípicos: 9
Procesando Cali, Estrato 1.0:
Outliers detectados en &#39;price&#39;: 9
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count          mean  std           min           25%           50%  \
price    1.0  1.500000e+09  NaN  1.500000e+09  1.500000e+09  1.500000e+09   

                75%           max  
price  1.500000e+09  1.500000e+09  

Porcentaje de valores atípicos: 5.56%

Cantidad de valores atípicos: 1
Procesando Pereira, Estrato 1.0:
Outliers detectados en &#39;price&#39;: 1
Análisis descriptivo de valores atípicos en &#39;price&#39;:
       count  mean  std  min  25%  50%  75%  max
price    0.0   NaN  NaN  NaN  NaN  NaN  NaN  NaN

Porcentaje de valores atípicos: 0.00%

Cantidad de valores atípicos: 0
Procesando Bello, Estrato 4.0:
Outliers detectados en &#39;price&#39;: 0
Actualización de valores atípicos completada.
ciudad         0
Estrato     2427
price      11567
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="posterior">
<h3>Posterior<a class="headerlink" href="#posterior" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filtrar y mostrar los datos con precio superior a 3 mil millones</span>
<span class="n">datos_precio_alto</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">3e9</span><span class="p">]</span>  <span class="c1"># 3e9 representa 3 mil millones</span>

<span class="c1"># Imprimir los resultados</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datos_precio_alto</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              lat       long category         price  rooms  baths  park  \
15187         NaN        NaN     Casa  1.100000e+10    NaN    NaN   0.0   
20285    3.340143 -76.532883     Casa  3.280000e+09    3.0    3.0   NaN   
42810    4.598056 -74.075844     Casa  3.200000e+09    5.0    6.0   0.0   
116128   4.817486 -74.025703     Casa  3.800000e+09    4.0    6.0   0.0   
116248   4.819365 -74.032829     Casa  3.200000e+09    4.0    7.0   0.0   
127687   6.194148 -75.558342     Casa  3.600000e+09    4.0    4.0   2.0   
152578  10.430285 -75.536194     Casa  6.000000e+09    NaN    NaN   0.0   
155432        NaN -75.512299     Casa  4.900000e+09    4.0    5.0   4.0   
155434        NaN -75.513931     Casa  4.500000e+09    5.0    6.0   5.0   
169137  11.028880        NaN     Casa  4.105000e+09    3.0    5.0   2.0   

              ciudad                  barrio  area_privada  area_const  \
15187         Bogotá                   Chicó           NaN         NaN   
20285           Cali                   Pance         313.0         NaN   
42810         Bogotá               Guaymaral           NaN         NaN   
116128        Bogotá                   Torca           NaN         NaN   
116248        Bogotá               San Simón           NaN         NaN   
127687      Medellín              Las Palmas           NaN         NaN   
152578     Cartagena      Sector 5 Torices A           NaN         NaN   
155432     Cartagena             Punta Canoa           NaN         NaN   
155434     Cartagena  Zona Norte Punta Canoa         289.0       289.0   
169137  Barranquilla                  Salgar           NaN         NaN   

           admon  Estrato  Estado      Antiguedad  Piso No  \
15187        NaN      NaN     NaN             NaN      NaN   
20285   100000.0      NaN     5.0  Más de 30 años      2.0   
42810        NaN      NaN     NaN             NaN      NaN   
116128       NaN      NaN     NaN             NaN      NaN   
116248       NaN      NaN     5.0     9 a 15 años      2.0   
127687       NaN      NaN     NaN      1 a 8 años      NaN   
152578       NaN      NaN     5.0             NaN      NaN   
155432       NaN      NaN     NaN     9 a 15 años      2.0   
155434       NaN      NaN     NaN      1 a 8 años      2.0   
169137       NaN      NaN     5.0             NaN      3.0   

       Tipo de Apartamento      Sector  
15187            No Aplica         NaN  
20285            No Aplica       Pance  
42810            No Aplica         NaN  
116128           No Aplica       Torca  
116248           No Aplica   San Simón  
127687           No Aplica  Las Palmas  
152578           No Aplica         NaN  
155432           No Aplica         NaN  
155434           No Aplica         NaN  
169137           No Aplica         NaN  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Eliminar la fila con índice 15187 y 152578</span>
<span class="n">ventas</span> <span class="o">=</span> <span class="n">ventas</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">15187</span><span class="p">)</span>
<span class="n">ventas</span> <span class="o">=</span> <span class="n">ventas</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">152578</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filtrar y mostrar los datos con precio inferiores a 2 millones</span>
<span class="n">datos_precio_bajo</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1000000</span><span class="p">]</span>  

<span class="c1"># Imprimir los resultados</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datos_precio_bajo</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              lat       long       category     price  rooms  baths  park  \
3944          NaN        NaN    Apartamento  250000.0    3.0    3.0   3.0   
15972         NaN        NaN    Apartamento  795000.0    2.0    3.0   2.0   
16265         NaN        NaN    Apartamento  600000.0    3.0    4.0   2.0   
17557         NaN        NaN    Apartamento  170000.0    3.0    3.0   1.0   
28880    3.412906 -76.554329    Apartamento  247000.0    2.0    2.0   2.0   
41498    4.589950 -74.172020    Apartamento  150000.0    4.0    1.0   0.0   
42473    4.595654 -74.172470    Apartamento  750000.0    2.0    1.0   0.0   
51972         NaN        NaN  Apartaestudio  730000.0    2.0    1.0   0.0   
70928    4.681430 -74.050858    Apartamento  800000.0    3.0    3.0   2.0   
89770    4.713388 -74.118149  Apartaestudio  600000.0    1.0    1.0   0.0   
103301   4.738532 -74.026855    Apartamento     153.0    2.0    1.0   0.0   
108341   4.752870 -74.048065           Casa  465000.0    5.0    4.0   2.0   
108349   4.752907 -74.045982    Apartamento  950000.0    2.0    1.0   0.0   
130137   6.202020 -75.568001    Apartamento  340000.0    4.0    3.0   1.0   
140774   6.246751 -75.620934    Apartamento  550000.0    1.0    1.0   0.0   
141490   6.248430 -75.597656  Apartaestudio  950000.0    NaN    1.0   0.0   
146372   6.292036 -75.543404    Apartamento  700000.0    2.0    1.0   0.0   
157111  10.981450 -74.780899    Apartamento  650000.0    1.0    1.0   0.0   

              ciudad               barrio  area_privada  area_const     admon  \
3944    Barranquilla            Los Alpes         115.0       115.0  240000.0   
15972           Cali        Ciudad Jardín           NaN       221.0  800000.0   
16265           Cali        Los Cristales           NaN       180.0       NaN   
17557           Cali              Nápoles          65.0        65.0  250000.0   
28880           Cali             Zona Sur          72.0        74.0     225.0   
41498         Bogotá              Galicia           NaN        62.0       NaN   
42473         Bogotá          La Estancia           NaN        47.0       NaN   
51972       Medellín      La Aldea Itagui          50.0        50.0       NaN   
70928         Bogotá          Chico Norte         160.0       160.0  889000.0   
89770         Bogotá         Garces Navas           NaN        35.0       NaN   
103301        Bogotá  San Cristobal Norte          44.0        49.0     113.0   
108341        Bogotá      Villa Del Prado           NaN         NaN       NaN   
108349        Bogotá             El Redil           NaN        39.0   80000.0   
130137      Medellín           Suroriente          84.0        84.0  541410.0   
140774      Medellín                Belén           NaN        38.0       NaN   
141490      Medellín            Occidente          25.0        25.0       NaN   
146372      Medellín             Pedregal          65.0        65.0       NaN   
157111  Barranquilla             San Jose          40.0        40.0       NaN   

        Estrato  Estado    Antiguedad  Piso No Tipo de Apartamento  \
3944        5.0     5.0   9 a 15 años      2.0                 NaN   
15972       6.0     5.0    1 a 8 años      2.0                 NaN   
16265       6.0     5.0   9 a 15 años      1.0                 NaN   
17557       3.0     NaN           NaN      1.0                 NaN   
28880       5.0     5.0  16 a 30 años      8.0                 NaN   
41498       2.0     4.0  16 a 30 años      3.0                 NaN   
42473       3.0     5.0    1 a 8 años      5.0                 NaN   
51972       2.0     NaN    1 a 8 años      NaN                 NaN   
70928       6.0     5.0  16 a 30 años      4.0                 NaN   
89770       3.0     5.0  16 a 30 años      1.0                 NaN   
103301      3.0     4.0    1 a 8 años      2.0                 NaN   
108341      4.0     4.0  16 a 30 años      NaN           No Aplica   
108349      3.0     NaN    1 a 8 años      NaN                 NaN   
130137      6.0     5.0  16 a 30 años      3.0                 NaN   
140774      2.0     4.0           NaN      NaN                 NaN   
141490      5.0     5.0    1 a 8 años      6.0                 NaN   
146372      2.0     5.0           NaN      2.0                 NaN   
157111      3.0     4.0  16 a 30 años      1.0                 NaN   

                     Sector  
3944                 Riomar  
15972         Ciudad Jardín  
16265         Los Cristales  
17557               Nápoles  
28880              Zona Sur  
41498               Galicia  
42473           La Estancia  
51972          Suroccidente  
70928           Chicó Norte  
89770          Garcés Navas  
103301  San Cristobal Norte  
108341      Villa Del Prado  
108349             El Redil  
130137           Suroriente  
140774                Belén  
141490            Occidente  
146372             Pedregal  
157111        Sur Occidente  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filtrar y eliminar los datos con precio inferior a 2 millones</span>
<span class="n">ventas</span> <span class="o">=</span> <span class="n">ventas</span><span class="p">[</span><span class="n">ventas</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">2000000</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un histograma del precio</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Histograma de precio&#39;</span><span class="p">,</span>
                   <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="s1">&#39;Precio&#39;</span><span class="p">},</span>
                   <span class="n">opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="c1"># Personalizar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Precio&#39;</span><span class="p">,</span> <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">marker_line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker_line_color</span><span class="o">=</span><span class="s1">&#39;#D99982&#39;</span><span class="p">,</span> <span class="n">marker_color</span><span class="o">=</span><span class="s1">&#39;#1F3040&#39;</span><span class="p">)</span>  

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">figprice1</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Estrato&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">,</span><span class="n">notched</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Estrato&#39;</span><span class="p">,</span> <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="n">custom_colors</span><span class="p">)</span>
<span class="n">figprice1</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ventas</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;datos4.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "psqlpy_venv"
        },
        kernelOptions: {
            name: "psqlpy_venv",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'psqlpy_venv'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="notebooks.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Limpieza de datos</p>
      </div>
    </a>
    <a class="right-next"
       href="notebooks2.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Análisis de datos nulos</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#funciones">Funciones</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#banos">Baños</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#habitaciones">Habitaciones</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parqueaderos">Parqueaderos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#administracion">Administración</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#barrio-y-sector">Barrio y Sector</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#uso-de-libreria-fluzzywuzzy-para-coincidencias-en-nombres-de-barrios-y-sector">Uso de libreria fluzzywuzzy para coincidencias en nombres de barrios y sector</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lat-y-long">Lat y Long</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#price">Price</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-datos-atipicos-por-estrato-y-ciudad">Análisis de datos atípicos por estrato y ciudad:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#posterior">Posterior</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Buvoli Gina - Herrera Linda
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>